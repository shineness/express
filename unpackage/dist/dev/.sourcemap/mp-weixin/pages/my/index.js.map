{"version":3,"file":"index.js","sources":["pages/my/index.vue","../../Gemini Chrome下载/HBuilderX.4.75.2025071105/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n    <view class=\"profile-page\" :style=\"`height:calc(100vh - ${botHeight});`\">\r\n        <!-- 状态栏占位 -->\r\n        <view class=\"bg\">\r\n\r\n\r\n            <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n\r\n            <!-- 顶部操作栏 -->\r\n            <view class=\"top-bar\">\r\n                \r\n            </view>\r\n\r\n            <!-- 用户信息区域 -->\r\n            <view class=\"user-section\">\r\n                <view class=\"user-info\" @click=\"handleLogin\">\r\n                    <uv-avatar :src=\"userInfo.avatar || '/static/my/user-avatar.png'\" size=\"60\"\r\n                        shape=\"circle\"></uv-avatar>\r\n                    <view class=\"user-details\">\r\n                        <text class=\"login-text\">{{ userInfo.isLogin ? userInfo.nickname : '点击登录获取头像' }}</text>\r\n                        <text class=\"user-id\">用户ID {{ userInfo.userId }}</text>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n        </view>\r\n        <!-- 优惠券卡片 -->\r\n        <view class=\"coupon-section\">\r\n            <uv-card :show-head=\"false\" :show-foot=\"false\" margin=\"15px\" padding=\"0\" bg-color=\"rgba(255, 240, 240, 0.8)\"\r\n                border-color=\"#ffcccb\">\r\n                <view class=\"coupon-content\" @click=\"handleCouponClick\">\r\n                    <view class=\"coupon-left\">\r\n                        <uv-icon name=\"coupon\" color=\"#ff4444\" size=\"20\"></uv-icon>\r\n                        <text class=\"coupon-text\">优惠券</text>\r\n                    </view>\r\n                    <view class=\"coupon-right\">\r\n                        <text class=\"use-text\">去使用</text>\r\n                        <uv-icon name=\"arrow-right\" color=\"#999\" size=\"14\"></uv-icon>\r\n                    </view>\r\n                </view>\r\n            </uv-card>\r\n        </view>\r\n\r\n        <!-- 地址按钮区域 -->\r\n        <view class=\"address-section\">\r\n            <view class=\"address-buttons\">\r\n                <view class=\"subs\">\r\n                    <uv-button  :plain=\"true\" size=\"large\" @click=\"handleSenderAddress\">\r\n                        <view class=\"address-btn-content\">\r\n                            <uv-icon name=\"map\" color=\"#353b48\" size=\"18\"></uv-icon>\r\n                            <text class=\"address-text\">寄件地址</text>\r\n                        </view>\r\n                    </uv-button>\r\n                </view>\r\n                <view class=\"subs\">\r\n                    <uv-button  :plain=\"true\"  size=\"large\" @click=\"handleReceiverAddress\">\r\n                        <view class=\"address-btn-content\">\r\n                            <uv-icon name=\"home\" color=\"#353b48\" size=\"18\"></uv-icon>\r\n                            <text class=\"address-text\">收件地址</text>\r\n                        </view>\r\n                    </uv-button>\r\n                </view>\r\n            </view>\r\n        </view>\r\n\r\n        <!-- 菜单列表 -->\r\n        <view class=\"menu-section\">\r\n            <uv-cell-group :border=\"false\">\r\n                <uv-cell title=\"帮助中心\" :is-link=\"true\" @click=\"handleHelpCenter\" :customStyle=\"cus\">\r\n                    <template #icon>\r\n                        <uv-icon name=\"question-circle\" color=\"#666\" size=\"20\"></uv-icon>\r\n                    </template>\r\n                </uv-cell>\r\n\r\n                <uv-cell title=\"联系客服\" :is-link=\"true\" @click=\"handleContactService\" :customStyle=\"cus\">\r\n                    <template #icon>\r\n                        <uv-icon name=\"kefu-ermai\" color=\"#666\" size=\"20\"></uv-icon>\r\n                    </template>\r\n                </uv-cell>\r\n\r\n                <uv-cell title=\"分享小程序\" :is-link=\"true\" @click=\"handleShareApp\" :customStyle=\"cus\">\r\n                    <template #icon>\r\n                        <uv-icon name=\"share\" color=\"#666\" size=\"20\"></uv-icon>\r\n                    </template>\r\n                </uv-cell>\r\n            </uv-cell-group>\r\n        </view>\r\n\r\n        <!-- 推广区域 -->\r\n        <!-- <view class=\"promotion-section\">\r\n\t\t\t<uv-card :show-head=\"false\" :show-foot=\"false\" margin=\"15px\" padding=\"15px\">\r\n\t\t\t\t<view class=\"promotion-content\">\r\n\t\t\t\t\t<view class=\"promotion-left\">\r\n\t\t\t\t\t\t<view class=\"promotion-logo\">\r\n\t\t\t\t\t\t\t<uv-avatar src=\"/static/images/logistics-logo.png\" size=\"40\" shape=\"circle\"\r\n\t\t\t\t\t\t\t\tbg-color=\"#1a365d\">\r\n\t\t\t\t\t\t\t\t<text class=\"logo-text\">大件物流</text>\r\n\t\t\t\t\t\t\t</uv-avatar>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"promotion-info\">\r\n\t\t\t\t\t\t\t<text class=\"promotion-title\">大件物流 上门取件</text>\r\n\t\t\t\t\t\t\t<text class=\"promotion-desc\">关注公众号，物流进度早知道</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uv-button type=\"primary\" size=\"small\" shape=\"circle\" text=\"去关注\" @click=\"handleFollow\"></uv-button>\r\n\t\t\t\t</view>\r\n\t\t\t</uv-card>\r\n\t\t</view> -->\r\n\r\n        <!-- 版本信息 -->\r\n        <view class=\"version-info\">\r\n            <text class=\"version-text\"> v1.0.2 正式版</text>\r\n        </view>\r\n\r\n        <!-- 底部导航 -->\r\n        <!-- \t<view class=\"bottom-navigation\">\r\n\t\t\t<uv-tabbar v-model=\"currentTab\" :list=\"tabbarList\" :inactive-color=\"'#999'\" :active-color=\"'#4a90e2'\"\r\n\t\t\t\t@change=\"handleTabChange\"></uv-tabbar>\r\n\t\t</view> -->\r\n\r\n        <!-- 消息提示 -->\r\n        <uv-toast ref=\"uToast\"></uv-toast>\r\n    </view>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n    ref,\r\n    onMounted,\r\n    computed\r\n} from 'vue'\r\n// import uni from 'uni-app' // Import uni to fix the undeclared variable error\r\n\r\n// 响应式数据\r\nconst statusBarHeight = ref(44)\r\nconst currentTab = ref(2) // 当前选中\"我的\"标签\r\n\r\n// 用户信息\r\nconst userInfo = ref({\r\n    isLogin: false,\r\n    nickname: '',\r\n    avatar: '',\r\n    userId: '2wwt8s'\r\n})\r\n\r\nconst botHeight = computed(() => {\r\n    return (50 + uni.getSystemInfoSync().safeAreaInsets.bottom - 24) + 'px'\r\n})\r\n\r\n// Toast引用\r\nconst uToast = ref()\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n    // 获取系统信息\r\n    uni.getSystemInfo({\r\n        success: (res) => {\r\n            statusBarHeight.value = res.statusBarHeight || 44\r\n        }\r\n    })\r\n\r\n    // 检查登录状态\r\n    checkLoginStatus()\r\n})\r\n\r\n// 检查登录状态\r\nconst checkLoginStatus = () => {\r\n    // 这里可以从本地存储或API获取用户信息\r\n    const loginInfo = uni.getStorageSync('userInfo')\r\n    if (loginInfo) {\r\n        userInfo.value = {\r\n            ...userInfo.value,\r\n            ...loginInfo,\r\n            isLogin: true\r\n        }\r\n    }\r\n}\r\n\r\n// 事件处理函数\r\nconst handleLogin = () => {\r\n    if (!userInfo.value.isLogin) {\r\n        // 执行登录逻辑\r\n        uni.getUserProfile({\r\n            desc: '用于完善用户资料',\r\n            success: (res) => {\r\n                userInfo.value = {\r\n                    ...userInfo.value,\r\n                    isLogin: true,\r\n                    nickname: res.userInfo.nickName,\r\n                    avatar: res.userInfo.avatarUrl\r\n                }\r\n\r\n                // 保存到本地存储\r\n                uni.setStorageSync('userInfo', userInfo.value)\r\n\r\n                uToast.value?.show({\r\n                    type: 'success',\r\n                    message: '登录成功'\r\n                })\r\n            },\r\n            fail: () => {\r\n                uToast.value?.show({\r\n                    type: 'error',\r\n                    message: '登录失败'\r\n                })\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nconst handleCouponClick = () => {\r\n    uToast.value?.show({\r\n        type: 'primary',\r\n        message: '跳转到优惠券页面'\r\n    })\r\n}\r\n\r\nconst handleSenderAddress = () => {\r\n    uToast.value?.show({\r\n        type: 'primary',\r\n        message: '设置寄件地址'\r\n    })\r\n}\r\n\r\nconst handleReceiverAddress = () => {\r\n    uToast.value?.show({\r\n        type: 'primary',\r\n        message: '设置收件地址'\r\n    })\r\n}\r\n\r\nconst handleHelpCenter = () => {\r\n    uToast.value?.show({\r\n        type: 'primary',\r\n        message: '进入帮助中心'\r\n    })\r\n}\r\n\r\nconst handleContactService = () => {\r\n    uToast.value?.show({\r\n        type: 'primary',\r\n        message: '联系客服'\r\n    })\r\n}\r\n\r\nconst handleShareApp = () => {\r\n    uni.share({\r\n        provider: 'weixin',\r\n        scene: 'WXSceneSession',\r\n        type: 5,\r\n        imageUrl: '/static/images/share-logo.png',\r\n        title: '风火递物流小程序',\r\n        miniProgram: {\r\n            id: 'your-mini-program-id',\r\n            path: '/pages/index/index',\r\n            type: 0,\r\n            webUrl: 'https://your-website.com'\r\n        },\r\n        success: () => {\r\n            uToast.value?.show({\r\n                type: 'success',\r\n                message: '分享成功'\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nconst handleFollow = () => {\r\n    uToast.value?.show({\r\n        type: 'primary',\r\n        message: '跳转关注公众号'\r\n    })\r\n}\r\n\r\nconst handleTabChange = (index) => {\r\n    currentTab.value = index\r\n    const routes = ['/pages/index/index', '/pages/order/index', '/pages/profile/index']\r\n\r\n    if (index !== 2) { // 不是当前页面才跳转\r\n        uni.switchTab({\r\n            url: routes[index]\r\n        })\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.bg {\r\n    background: linear-gradient(180deg, #4a90e2 0%, #f7f7f7 100%)\r\n}\r\n\r\n.profile-page {\r\n\r\n    background-color: #f5f7fa;\r\n    padding-bottom: 60px;\r\n}\r\n\r\n.status-bar {\r\n    background-color: transparent;\r\n}\r\n.subs{\r\n    flex-grow: 1;\r\n}\r\n.coupon-section {\r\n    padding: 20rpx;\r\n}\r\n\r\n.top-bar {\r\n    padding: 10px 15px;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.top-actions {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 15px;\r\n    background-color: rgba(255, 255, 255, 0.9);\r\n    padding: 8px 15px;\r\n    border-radius: 20px;\r\n}\r\n\r\n.record-btn {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n/* 用户信息区域 */\r\n.user-section {\r\n    padding: 20px 15px;\r\n}\r\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 15px;\r\n}\r\n\r\n.user-details {\r\n    flex: 1;\r\n}\r\n\r\n.login-text {\r\n    display: block;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.user-id {\r\n    display: block;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n/* 优惠券区域 */\r\n.coupon-content {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 15px;\r\n    border: 2px solid #d8b1b4;\r\n    border-radius: 30rpx;\r\n}\r\n\r\n.coupon-left {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n\r\n.coupon-text {\r\n    font-size: 14px;\r\n    color: #333;\r\n    font-weight: 600;\r\n}\r\n\r\n.coupon-right {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n}\r\n\r\n.use-text {\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n/* 地址按钮区域 */\r\n.address-section {\r\n    padding: 0 15px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.address-buttons {\r\n    display: flex;\r\n    gap: 15px;\r\n}\r\n\r\n.address-buttons .uv-button {\r\n    flex: 1;\r\n}\r\n\r\n.address-btn-content {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n}\r\n\r\n.address-text {\r\n    font-size: 14px;\r\n    color:#353b48;\r\n}\r\n\r\n/* 菜单区域 */\r\n.menu-section {\r\n    margin: 0 15px 20px;\r\n    background-color: white;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n}\r\n\r\n/* 推广区域 */\r\n.promotion-content {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.promotion-left {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 12px;\r\n    flex: 1;\r\n}\r\n\r\n.promotion-logo {\r\n    position: relative;\r\n}\r\n\r\n.logo-text {\r\n    font-size: 10px;\r\n    color: white;\r\n    font-weight: bold;\r\n}\r\n\r\n.promotion-info {\r\n    flex: 1;\r\n}\r\n\r\n.promotion-title {\r\n    display: block;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-bottom: 4px;\r\n}\r\n\r\n.promotion-desc {\r\n    display: block;\r\n    font-size: 12px;\r\n    color: #999;\r\n}\r\n\r\n/* 版本信息 */\r\n.version-info {\r\n    text-align: center;\r\n    position: absolute;\r\n    bottom: 0;\r\n    width: 100%;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.version-text {\r\n    font-size: 12px;\r\n    color: #999;\r\n}\r\n\r\n/* 底部导航 */\r\n.bottom-navigation {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: white;\r\n    border-top: 1px solid #eee;\r\n    z-index: 999;\r\n}\r\n\r\n/* 响应式调整 */\r\n@media (max-width: 375px) {\r\n    .user-section {\r\n        padding: 15px;\r\n    }\r\n\r\n    .login-text {\r\n        font-size: 16px;\r\n    }\r\n\r\n    .address-buttons {\r\n        gap: 10px;\r\n    }\r\n}\r\n</style>","import MiniProgramPage from 'D:/project/express/pages/my/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","onMounted"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqIA,UAAM,kBAAkBA,cAAG,IAAC,EAAE;AACXA,kBAAG,IAAC,CAAC;AAGxB,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACjB,SAAS;AAAA,MACT,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,QAAQ;AAAA,IACZ,CAAC;AAED,UAAM,YAAYC,cAAQ,SAAC,MAAM;AAC7B,aAAQ,KAAKC,oBAAI,kBAAmB,EAAC,eAAe,SAAS,KAAM;AAAA,IACvE,CAAC;AAGD,UAAM,SAASF,cAAAA,IAAK;AAGpBG,kBAAAA,UAAU,MAAM;AAEZD,oBAAAA,MAAI,cAAc;AAAA,QACd,SAAS,CAAC,QAAQ;AACd,0BAAgB,QAAQ,IAAI,mBAAmB;AAAA,QAClD;AAAA,MACT,CAAK;AAGD,uBAAkB;AAAA,IACtB,CAAC;AAGD,UAAM,mBAAmB,MAAM;AAE3B,YAAM,YAAYA,cAAAA,MAAI,eAAe,UAAU;AAC/C,UAAI,WAAW;AACX,iBAAS,QAAQ;AAAA,UACb,GAAG,SAAS;AAAA,UACZ,GAAG;AAAA,UACH,SAAS;AAAA,QACZ;AAAA,MACJ;AAAA,IACL;AAGA,UAAM,cAAc,MAAM;AACtB,UAAI,CAAC,SAAS,MAAM,SAAS;AAEzBA,sBAAAA,MAAI,eAAe;AAAA,UACf,MAAM;AAAA,UACN,SAAS,CAAC,QAAQ;;AACd,qBAAS,QAAQ;AAAA,cACb,GAAG,SAAS;AAAA,cACZ,SAAS;AAAA,cACT,UAAU,IAAI,SAAS;AAAA,cACvB,QAAQ,IAAI,SAAS;AAAA,YACxB;AAGDA,0BAAAA,MAAI,eAAe,YAAY,SAAS,KAAK;AAE7C,yBAAO,UAAP,mBAAc,KAAK;AAAA,cACf,MAAM;AAAA,cACN,SAAS;AAAA,YAC7B;AAAA,UACa;AAAA,UACD,MAAM,MAAM;;AACR,yBAAO,UAAP,mBAAc,KAAK;AAAA,cACf,MAAM;AAAA,cACN,SAAS;AAAA,YAC7B;AAAA,UACa;AAAA,QACb,CAAS;AAAA,MACJ;AAAA,IACL;AAEA,UAAM,oBAAoB,MAAM;;AAC5B,mBAAO,UAAP,mBAAc,KAAK;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACjB;AAAA,IACA;AAEA,UAAM,sBAAsB,MAAM;;AAC9B,mBAAO,UAAP,mBAAc,KAAK;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACjB;AAAA,IACA;AAEA,UAAM,wBAAwB,MAAM;;AAChC,mBAAO,UAAP,mBAAc,KAAK;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACjB;AAAA,IACA;AAEA,UAAM,mBAAmB,MAAM;;AAC3B,mBAAO,UAAP,mBAAc,KAAK;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACjB;AAAA,IACA;AAEA,UAAM,uBAAuB,MAAM;;AAC/B,mBAAO,UAAP,mBAAc,KAAK;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,MACjB;AAAA,IACA;AAEA,UAAM,iBAAiB,MAAM;AACzBA,oBAAAA,MAAI,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,MAAM;AAAA,QACN,UAAU;AAAA,QACV,OAAO;AAAA,QACP,aAAa;AAAA,UACT,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,MAAM;AAAA,UACN,QAAQ;AAAA,QACX;AAAA,QACD,SAAS,MAAM;;AACX,uBAAO,UAAP,mBAAc,KAAK;AAAA,YACf,MAAM;AAAA,YACN,SAAS;AAAA,UACzB;AAAA,QACS;AAAA,MACT,CAAK;AAAA,IACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvQA,GAAG,WAAW,eAAe;"}